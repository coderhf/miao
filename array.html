<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    function indexOf(array, target) {
      for (var i = 0; i < array.length; i++) {
        if (array[i] === target) {
          return i
        }
      }
      return -1
    }

    function slice(array, start = 0, end = arr.length) {
      var arr = []
      for (var i = start; i < end; i++) {
        arr.push(array[i])
      }
      return arr
    }

    function concat() {
      var res = []
      for (var i = 0; i < arguments.length; i++) {
        var arg = arguments[i]
        if (Array.isArray(arg)) {
          for (var j = 0; j < arg.length; j++) {
            res.push(arg[j])
          }
        } else {
          res.push(arg)
        }
      }
      return res
    }
    console.log(concat([1, 3, 4], [15, 45, [25]], 23, 4))

    // 深度对比
    function isEqual(a, b) {
      if (Array.isArray(a) && Array.isArray(b)) {
        // 如果数组长度不一样，直接返回false
        if (a.length !== b.length) {
          return false
        }
        // 遍历
        for (var i = 0; i < a.length; i++) {
          // 如果比较有一个是不同的，那么直接返回false
          if (!isEqual(a[i], b[i])) {
            return false
          }
        }
        // 遍历完成，如果都是相同的，那么直接返回true
        return true
      } else if (typeof a == 'object' && a !== null && b !== null && typeof b == 'object') {
        // 对象长度不一样，直接返回false就可以了
        if (Object.keys(a).length !== Object.keys(b).length) {
          return false
        }
        // 遍历for in
        for (var key in a) {
          if (!(key in b) || !isEqual(a[key], b[key])) {
            return false
          }
        }
        return true
      }
      return a === b
    }

    // 深度克隆
    function deepCopy(a) {
      // 判断是数组还是对象或者是原始值
      if (Array.isArray(a)) {
        // 如果是对象，那么直接创建一个空对象进行存储
        var arr = []
        // 遍历数组的每个值，然后push进数组
        for (var i = 0; i < a.length; i++) {
          arr.push(deepCopy(a[i]))
        }
        // push完之后直接返回这个数组，下面对象如此
        return arr
      } else if (typeof a == 'object') {
        var obj = {}
        for (var key in a) {
          obj[key] = deepCopy(a[key])
        }
        return obj
      } else {
        // 如果是原始值，就可以直接返回这个值了
        return a
      }
    }

    // 生成随机数，线性同余
    var a = 17
    var c = 19
    var m = 31
    var x = 23
    function random() {
      x = (a * x + c) % m
      return x
    }

    // 生成start-end的数组，支持range(10)-range(1,10,-2);书上第四章的习题1
    function range(start, end, step = 1) {
      if (arguments.length == 1) {
        end = start
        start = 1
      }
      var arr = []
      for (var i = start; step > 0 ? i <= end : i >= end; i += step) {
        arr.push(i)
      }
      return arr
    }

    function sum(numbers) {
      var sum = 0
      for (var i = 0; i < numbers.length; i++) {
        sum += numbers[i]
      }
      return sum
    }
    console.log(sum(range(1,10)))


    // 书本第四章习题2
    function reverseArray(array) {
      var result = []
      for (var i = array.length - 1; i > 0; i--) {
        result.push(array[i])
      }
      return result
    }

    function reverseArrayInPlace(array) {
      var len = Math.floor(array.length / 2)
      for (var i = 0; i < len; i++) {
        var temp = array[i]
        array[i] = array[array.length - 1 - i]
        array[array.length - 1 - i] = temp
      }
      return array
    }

    
  </script>
</body>

</html>
