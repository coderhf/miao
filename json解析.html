<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 这个1(2(1)(3))(3(5)) => 解析成二叉树
    function parseBinaryTree(input) {
      let i = 0
      return parseTree()
      function parseTreeWithKH() {
        i++
        if (input[i] === ')') {
          i++ 
          return null
        }
        let result = parseTree()
        i++
        return result
      }
      function parseTree() {
        let rootValue = parseNumber()
        let root = {
          val: rootValue,
          left: null,
          right: null
        }
        if (input[i] === '(') {
          root.left = parseTreeWithKH()
        }
        if (input[i] === '(') {
          root.right = parseTreeWithKH()
        }
        return root
      }
      function parseNumber() {
        let startIdx = i
        while (input[i] >= '0' && input[i] <= '9') {
          i++
        }
        return input.slice(startIdx, i)
      }
    }
  </script>
</body>
</html>
